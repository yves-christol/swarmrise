@import "tailwindcss";

/* Enable class-based dark mode (Tailwind v4) */
@custom-variant dark (&:where(.dark, .dark *));

/* ── Surface Token System ─────────────────────────────────────────────
   Light/dark tokens consumed by Tailwind v4 via @theme integration.
   Org paper color override flows through --org-paper-color vars set
   by OrgCustomisationProvider. ──────────────────────────────────────── */

:root.light {
  /* Surface (background) */
  --surface-primary: var(--org-paper-color, #ffffff);
  --surface-secondary: var(--org-paper-color-secondary, #f1f5f9);
  --surface-tertiary: var(--org-paper-color-tertiary, #e2e8f0);

  /* Hover */
  --surface-hover-subtle: #f9fafb;
  --surface-hover: #f3f4f6;
  --surface-hover-strong: #e2e8f0;

  /* Border */
  --border-default: #e5e7eb;
  --border-strong: #d1d5db;

  /* Text */
  --text-secondary: #6b7280;
  --text-description: #4b5563;
  --text-tertiary: #9ca3af;
}

:root.dark {
  /* Surface (background) */
  --surface-primary: var(--org-paper-color, #1f2937);
  --surface-secondary: var(--org-paper-color-secondary, #334155);
  --surface-tertiary: var(--org-paper-color-tertiary, #475569);

  /* Hover */
  --surface-hover-subtle: rgba(55, 65, 81, 0.5);
  --surface-hover: #374151;
  --surface-hover-strong: #475569;

  /* Border */
  --border-default: #374151;
  --border-strong: #4b5563;

  /* Text */
  --text-secondary: #9ca3af;
  --text-description: #9ca3af;
  --text-tertiary: #6b7280;
}

@theme {
  /* Custom colors - these automatically generate bg-*, text-*, etc utilities */
  --color-light: #eeeeee;
  --color-dark: #212121;

  /* Brand gold colors (kept for Logo component only) */
  --color-bee-gold: #eac840;
  --color-bee-gold-dark: #d4af37;

  /* Org-customisable highlight colors (overridden at runtime by OrgCustomisationProvider) */
  --color-highlight: var(--org-highlight-color, #eac840);
  --color-highlight-hover: var(--org-highlight-hover, #d4af37);

  /* Surface token integration – auto-generates bg-surface-*, text-text-*, border-border-* */
  --color-surface-primary: var(--surface-primary);
  --color-surface-secondary: var(--surface-secondary);
  --color-surface-tertiary: var(--surface-tertiary);
  --color-surface-hover-subtle: var(--surface-hover-subtle);
  --color-surface-hover: var(--surface-hover);
  --color-surface-hover-strong: var(--surface-hover-strong);
  --color-border-default: var(--border-default);
  --color-border-strong: var(--border-strong);
  --color-text-secondary: var(--text-secondary);
  --color-text-description: var(--text-description);
  --color-text-tertiary: var(--text-tertiary);

  /* Custom font family */
  --font-family-swarm: 'Montserrat Alternates', sans-serif;

  /* Org-customisable title font */
  --font-family-title: var(--org-title-font, Arial, Helvetica, sans-serif);
}

/* Explicit utilities to ensure they work properly in Tailwind v4 */
@layer utilities {
  .font-swarm {
    font-family: var(--font-family-swarm);
  }

  .font-title {
    font-family: var(--font-family-title);
  }

  .bg-light {
    background-color: var(--color-light);
  }

  .bg-dark {
    background-color: var(--color-dark);
  }

  .text-light {
    color: var(--color-light);
  }

  .text-dark {
    color: var(--color-dark);
  }

  /* Gold text - accessible in both themes */
  .text-gold {
    color: var(--color-gold-text, #996800);
  }

  .hover\:text-gold:hover {
    color: var(--color-gold-text, #996800);
  }

}

/* Dark mode variants for custom utilities */
.dark .dark\:bg-dark {
  background-color: var(--color-dark);
}

.dark .dark\:bg-light {
  background-color: var(--color-light);
}

.dark .dark\:text-light {
  color: var(--color-light);
}

.dark .dark\:text-dark {
  color: var(--color-dark);
}

.dark .dark\:text-gold {
  color: var(--color-gold-text);
}

/* Dark mode (class-based for manual override) */
:root.dark {
  --org-highlight-color: #eac840;
  --org-highlight-hover: #d4af37;
  --color-gold-text: var(--org-highlight-color, #eac840);
}

:root.dark body {
  color: var(--color-light);
  background: var(--color-dark);
  font-family: Arial, Helvetica, sans-serif;
}

:root.dark h1, :root.dark h2, :root.dark h3,
:root.dark h4, :root.dark h5, :root.dark h6 {
  font-family: var(--org-title-font, Arial, Helvetica, sans-serif);
}

/* Light mode (class-based for manual override) */
:root.light {
  --org-highlight-color: #eac840;
  --org-highlight-hover: #d4af37;
  --color-gold-text: #996800;
}

:root.light body {
  color: #111111;
  background: var(--color-light);
  font-family: Arial, Helvetica, sans-serif;
}

:root.light h1, :root.light h2, :root.light h3,
:root.light h4, :root.light h5, :root.light h6 {
  font-family: var(--org-title-font, Arial, Helvetica, sans-serif);
}

/* Smooth theme transitions */
body {
  transition: background-color 200ms ease-out, color 200ms ease-out;
}

/* OrgNetworkDiagram theme tokens */
:root.light {
  --diagram-bg: #eeeeee;              /* matches --color-light */
  --diagram-node-fill: #e2e8f0;        /* slate-200 */
  --diagram-node-stroke: #9ca3af;      /* gray-400 */
  --diagram-node-stroke-hover: #6b7280; /* gray-500 */
  --diagram-node-text: #1f2937;        /* gray-800 */
  --diagram-muted-text: #6b7280;       /* gray-500 */
  --diagram-arrow: #6b7280;            /* gray-500 */
  --diagram-golden-bee: var(--org-highlight-hover, #D4AF37); /* golden-bee light mode */
}

:root.dark {
  --diagram-bg: #212121;              /* matches --color-dark */
  --diagram-node-fill: #1f2937;        /* gray-800 */
  --diagram-node-stroke: #9ca3af;      /* gray-400 */
  --diagram-node-stroke-hover: #6b7280; /* gray-500 */
  --diagram-node-text: #e5e7eb;        /* gray-200 */
  --diagram-muted-text: #9ca3af;       /* gray-400 */
  --diagram-arrow: #6b7280;            /* gray-500 */
  --diagram-golden-bee: var(--org-highlight-color, #EAC840); /* golden-bee dark mode */
}

/* Swarmrise static pages: reset org customisation to brand defaults.
   These pages (glossary, terms, privacy, principles) represent the Swarmrise
   platform itself and must not inherit org-level title fonts or highlight colours. */
.swarmrise-page {
  --org-highlight-color: #eac840;
  --org-highlight-hover: #d4af37;
  --org-title-font: 'Montserrat Alternates', sans-serif;
  --org-paper-color: initial;
  --org-paper-color-secondary: initial;
  --org-paper-color-tertiary: initial;
}

/* Principles page animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.principle-card {
  animation: fadeInUp 0.4s ease-out both;
}

/* Chat panel slide-in animation */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}
