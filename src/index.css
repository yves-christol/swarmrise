@import "tailwindcss";

/* Enable class-based dark mode (Tailwind v4) */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Custom colors - these automatically generate bg-*, text-*, etc utilities */
  --color-light: #eeeeee;
  --color-dark: #212121;
  --color-light-paper: #FAFAEE;
  --color-dark-paper: #1a1a1a;

  /* Brand gold colors (kept for Logo component only) */
  --color-bee-gold: #eac840;
  --color-bee-gold-dark: #d4af37;

  /* Org-customisable highlight colors (overridden at runtime by OrgCustomisationProvider) */
  --color-highlight: var(--org-highlight-color, #eac840);
  --color-highlight-hover: var(--org-highlight-hover, #d4af37);

  /* Custom font family */
  --font-family-swarm: 'Montserrat Alternates', sans-serif;

  /* Org-customisable title font */
  --font-family-title: var(--org-title-font, Arial, Helvetica, sans-serif);
}

/* Explicit utilities to ensure they work properly in Tailwind v4 */
@layer utilities {
  .font-swarm {
    font-family: var(--font-family-swarm);
  }

  .font-title {
    font-family: var(--font-family-title);
  }

  .bg-light {
    background-color: var(--color-light);
  }

  .bg-dark {
    background-color: var(--color-dark);
  }

  .text-light {
    color: var(--color-light);
  }

  .text-dark {
    color: var(--color-dark);
  }

  .bg-light-paper {
    background-color: var(--color-light-paper);
  }

  .bg-dark-paper {
    background-color: var(--color-dark-paper);
  }

  /* Gold text - accessible in both themes */
  .text-gold {
    color: var(--color-gold-text, #996800);
  }

  .hover\:text-gold:hover {
    color: var(--color-gold-text, #996800);
  }

}

/* Dark mode variants for custom utilities */
.dark .dark\:bg-dark {
  background-color: var(--color-dark);
}

.dark .dark\:bg-light {
  background-color: var(--color-light);
}

.dark .dark\:text-light {
  color: var(--color-light);
}

.dark .dark\:text-dark {
  color: var(--color-dark);
}

.dark .dark\:text-gold {
  color: var(--color-gold-text);
}

/* Dark mode (class-based for manual override) */
:root.dark {
  --org-highlight-color: #eac840;
  --org-highlight-hover: #d4af37;
  --color-gold-text: var(--org-highlight-color, #eac840);
}

:root.dark body {
  color: var(--color-light);
  background: var(--color-dark);
  font-family: Arial, Helvetica, sans-serif;
}

:root.dark h1, :root.dark h2, :root.dark h3,
:root.dark h4, :root.dark h5, :root.dark h6 {
  font-family: var(--org-title-font, Arial, Helvetica, sans-serif);
}

/* Light mode (class-based for manual override) */
:root.light {
  --org-highlight-color: #eac840;
  --org-highlight-hover: #d4af37;
  --color-gold-text: #996800;
}

:root.light body {
  color: #111111;
  background: var(--color-light);
  font-family: Arial, Helvetica, sans-serif;
}

:root.light h1, :root.light h2, :root.light h3,
:root.light h4, :root.light h5, :root.light h6 {
  font-family: var(--org-title-font, Arial, Helvetica, sans-serif);
}

/* Smooth theme transitions */
body {
  transition: background-color 200ms ease-out, color 200ms ease-out;
}

/* OrgNetworkDiagram theme tokens */
:root.light {
  --diagram-bg: #eeeeee;              /* matches --color-light */
  --diagram-node-fill: #e2e8f0;        /* slate-200 */
  --diagram-node-stroke: #9ca3af;      /* gray-400 */
  --diagram-node-stroke-hover: #6b7280; /* gray-500 */
  --diagram-node-text: #1f2937;        /* gray-800 */
  --diagram-muted-text: #6b7280;       /* gray-500 */
  --diagram-tooltip-bg: #ffffff;       /* white */
  --diagram-tooltip-border: #d1d5db;   /* gray-300 */
  --diagram-tooltip-text: #1f2937;     /* gray-800 */
  --diagram-arrow: #6b7280;            /* gray-500 */
  --diagram-golden-bee: var(--org-highlight-hover, #D4AF37); /* golden-bee light mode */
}

:root.dark {
  --diagram-bg: #212121;              /* matches --color-dark */
  --diagram-node-fill: #1f2937;        /* gray-800 */
  --diagram-node-stroke: #9ca3af;      /* gray-400 */
  --diagram-node-stroke-hover: #6b7280; /* gray-500 */
  --diagram-node-text: #e5e7eb;        /* gray-200 */
  --diagram-muted-text: #9ca3af;       /* gray-400 */
  --diagram-tooltip-bg: #111827;       /* gray-900 */
  --diagram-tooltip-border: #4b5563;   /* gray-600 */
  --diagram-tooltip-text: #e5e7eb;     /* gray-200 */
  --diagram-arrow: #6b7280;            /* gray-500 */
  --diagram-golden-bee: var(--org-highlight-color, #EAC840); /* golden-bee dark mode */
}

/* Principles page animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.principle-card {
  animation: fadeInUp 0.4s ease-out both;
}

/* Chat panel slide-in animation */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out;
}
